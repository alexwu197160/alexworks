<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/bootstrap.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="https://s1.pearlcdn.com/TW/contents/css/lib/owl.carousel.min.css">
    <title>Hello, Alex Works!</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/ad.css">

</head>

<body>
    <div id="top"></div>
    <div id="header"></div>
    <div class="loader"></div>
    <nav aria-label="breadcrumb" class="border-top border-danger border-5 mybreadcrumb-t">
        <ol class="breadcrumb ms-2 pb-1">
            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
            <li class="breadcrumb-item"><a href="allworks.html">Works Area</a></li>
            <li class="breadcrumb-item active" aria-current="page">Creative</li>
        </ol>
    </nav>
    <div class="container mytitle">
        <div class="row wrap">
            <div class="col-12 body">
                <div class="row mx-auto">
                    <h3 Class="border-start border-5 border-danger px-3">廣告素材</h3>
                    <p>製作專屬的廣告創作工作，有效吸引注意力達到宣傳效果。</p>
                </div>
                <div class="waterfall-container" style="width: 376px;">
                    <img class="waterfall-item item-1" src="images/ad/1730.jpg"></img>
                    <img class="waterfall-item item-2" src="images/ad/2001.jpg"></img>
                    <img class="waterfall-item item-3" src="images/ad/adcheneal-2.jpg"></img>
                    <img class="waterfall-item item-4" src="images/ad/adcheneal.jpg"></img>
                    <img class="waterfall-item item-5" src="images/ad/ausa2019-01.jpg"></img>
                    <img class="waterfall-item item-6" src="images/ad/ausa2019.jpg"></img>
                    <img class="waterfall-item item-7" src="images/ad/ban09.jpg"></img>
                    <img class="waterfall-item item-8" src="images/ad/ban100146.jpg"></img>
                    <img class="waterfall-item item-9" src="images/ad/ban10058-1.jpg"></img>
                    <!-- <img class="waterfall-item item-10" src="images/ad/ban10058.jpg"></img> -->
                    <img class="waterfall-item item-11" src="images/ad/ban1005888.jpg"></img>
                    <img class="waterfall-item item-12" src="images/ad/ban118.jpg"></img>
                    <img class="waterfall-item item-15" src="images/ad/ban12.jpg"></img>
                    <img class="waterfall-item item-16" src="images/ad/ban122.jpg"></img>
                    <img class="waterfall-item item-17" src="images/ad/ban1888.jpg"></img>
                    <img class="waterfall-item item-18" src="images/ad/ban18888.jpg"></img>
                    <img class="waterfall-item item-19" src="images/ad/ban1888x8.jpg"></img>
                    <img class="waterfall-item item-20" src="images/ad/ban2000.jpg"></img>
                    <img class="waterfall-item item-21" src="images/ad/ban288.jpg"></img>
                    <img class="waterfall-item item-22" src="images/ad/ban588.jpg"></img>
                    <img class="waterfall-item item-23" src="images/ad/ban5888.jpg"></img>
                    <img class="waterfall-item item-24" src="images/ad/ban60.jpg"></img>
                    <img class="waterfall-item item-25" src="images/ad/ban600.jpg"></img>
                    <img class="waterfall-item item-26" src="images/ad/banfamliy.jpg"></img>
                    <img class="waterfall-item item-27" src="images/ad/bangoto100.jpg"></img>
                    <img class="waterfall-item item-28" src="images/ad/banorder500.jpg"></img>
                    <img class="waterfall-item item-29" src="images/ad/bansprot100.jpg"></img>
                    <img class="waterfall-item item-30" src="images/ad/bansprot60.jpg"></img>
                    <img class="waterfall-item item-31" src="images/ad/banstart3.jpg"></img>
                    <img class="waterfall-item item-32" src="images/ad/banto100.jpg"></img>
                    <img class="waterfall-item item-33" src="images/ad/banto88.jpg"></img>
                    <img class="waterfall-item item-34" src="images/ad/bantogame.jpg"></img>
                    <img class="waterfall-item item-35" src="images/ad/bantops.jpg"></img>
                    <img class="waterfall-item item-36" src="images/ad/bantopshop.jpg"></img>
                    <img class="waterfall-item item-37" src="images/ad/banx888.jpg"></img>
                    <img class="waterfall-item item-38" src="images/ad/budem-01.jpg"></img>
                    <img class="waterfall-item item-39" src="images/ad/budem-02.jpg"></img>
                    <img class="waterfall-item item-40" src="images/ad/budem-03.jpg"></img>
                    <img class="waterfall-item item-41" src="images/ad/budem-04.jpg"></img>
                    <img class="waterfall-item item-42" src="images/ad/budem-05.jpg"></img>
                    <img class="waterfall-item item-43" src="images/ad/budem-06.jpg"></img>
                    <img class="waterfall-item item-44" src="images/ad/budem-07.jpg"></img>
                    <img class="waterfall-item item-45" src="images/ad/budem-08.jpg"></img>
                    <img class="waterfall-item item-46" src="images/ad/doctorair-1.jpg"></img>
                    <img class="waterfall-item item-47" src="images/ad/doctorair-2.jpg"></img>
                    <img class="waterfall-item item-48" src="images/ad/doctorair-3.jpg"></img>
                    <img class="waterfall-item item-49" src="images/ad/doctorair-3d.jpg"></img>
                    <img class="waterfall-item item-50" src="images/ad/doctorair-4.jpg"></img>
                    <img class="waterfall-item item-51" src="images/ad/doctorair-5.jpg"></img>
                    <img class="waterfall-item item-52" src="images/ad/doctorair.jpg"></img>
                    <img class="waterfall-item item-53" src="images/ad/formosa.jpg"></img>
                    <img class="waterfall-item item-54" src="images/ad/k8800.jpg"></img>
                    <img class="waterfall-item item-55" src="images/ad/nars.jpg"></img>
                    <img class="waterfall-item item-56" src="images/ad/unenanacool-2.jpg"></img>
                    <img class="waterfall-item item-57" src="images/ad/unenanacool-3.jpg"></img>
                    <img class="waterfall-item item-58" src="images/ad/unenanacool-4.jpg"></img>
                    <img class="waterfall-item item-59" src="images/ad/unenanacool.jpg"></img>
                    <img class="waterfall-item item-60" src="images/ad/wacoal.jpg"></img>
                    <img class="waterfall-item item-61" src="images/ad/wiran-ad1.jpg"></img>
                    <img class="waterfall-item item-62" src="images/ad/wiran-ad2.jpg"></img>
                    <img class="waterfall-item item-63" src="images/ad/ad-01.jpg"></img>
                    <img class="waterfall-item item-64" src="images/ad/ad-02.jpg"></img>
                    <img class="waterfall-item item-65" src="images/ad/ad-03.jpg"></img>
                    <img class="waterfall-item item-66" src="images/ad/ad-04.jpg"></img>


                </div>
            </div>
        </div>
    </div>

    <p class="btn_top"><a href="#top">top</a></p>

    <div id="footer"></div>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen-sm-down">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Login 功能未開啟</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h3>活動尚未開始，敬請期待</h3>
                    <p>未串接 API、資料 JSON、API Method RESTful</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary disabled" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-danger disabled">Save changes</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js " integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM " crossorigin="anonymous "></script>
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
    <!-- loader -->
    <style>
        .loader {
            border: 10px solid #fff;
            border-radius: 50%;
            border-top: 10px solid #f00;
            width: 70px;
            height: 70px;
            -webkit-animation: spin 2s linear infinite;
            /* Safari */
            animation: spin 2s linear infinite;
            position: absolute;
            left: calc(50% - 35px);
            top: calc(50% - 35px);
        }
        
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        body :not(.loader) {
            opacity: 0;
        }
        
        body .loader {
            display: block;
        }
        
        body.loaded :not(.loader) {
            opacity: 1;
        }
        
        body.loaded .loader {
            display: none;
        }
    </style>
    <script>
        window.addEventListener('load', (e) => {
            document.body.classList.add('loaded');
        });
    </script>
    <script>
        $(function() {
            $("#header").load("layouts/header.html");
            $("#footer").load("layouts/footer.html");
        });
    </script>

    <script>
        // for 循环遍历heights数组，返回最高的高度和对应的列数
        function getMaxCoulmn(columnCount, heights) {
            let maxHeight = 0;
            let maxIndex = 0
            for (i = 0; i < columnCount; i++) {
                if (heights[i] > maxHeight) {
                    maxIndex = i;
                    maxHeight = heights[i];
                }
            }
            return {
                maxHeight: maxHeight,
                maxIndex: maxIndex
            };
        }

        // 根容器
        var body = document.querySelector('.body');
        // 瀑布流的承载容器，动态的根据显示列数更新其宽度
        // 通过设置左右margin为auto，可以使其在根容器中居中显示 
        var container = document.querySelector('.waterfall-container');
        // 所有的瀑布流对象
        var items = document.querySelectorAll('.waterfall-item');
        // 自定义间距，与css设置的margin大小一致
        var gap = 10;
        // 一个对象的宽度，包含对象自身宽度加上右边距
        var itemWidth = items[0].offsetWidth + gap;

        function waterFall() {
            // 获取可存在的最大列数
            let columnCount = parseInt(body.offsetWidth / itemWidth);
            // 高度数组，包含所有列的高度
            let heights = [];
            // 最大列高
            let maxHeight = 0;
            // 最大列在heights中的下表索引
            let maxIndex = 0;
            // 设置瀑布流容器的宽度，使其恰好包裹所有元素
            container.style.width = itemWidth * columnCount + 'px';
            // 遍历每一项元素
            for (let i = 0; i < items.length; i++) {
                // 第一层，将marginTop设为0即可
                if (i < columnCount) {
                    items[i].style.marginTop = 0;
                    // 获取当前元素高度
                    let itemHeight = items[i].offsetHeight + gap;
                    // 将高度赋值给高度数组的对应列
                    heights[i] = itemHeight;
                    // 如果是一行的最后一项元素，说明当前一层的元素已经全部布置完成
                    // 此时遍历高度数组，获取高度最高的一项，将其存入maxHeight和maxIndex中
                    if (i == columnCount - 1) {
                        let temp = getMaxCoulmn(columnCount, heights);
                        maxHeight = temp.maxHeight;
                        maxIndex = temp.maxIndex;
                    }
                    // 其他层
                } else {
                    // 判断当前元素处于第几列
                    let column = i % columnCount;
                    // 获取当前元素高度
                    let itemHeight = items[i].offsetHeight + gap;
                    // 设置元素的上边距
                    // 其偏移量的计算方法是：
                    // 所有列高度最大值 - 当前列的高度
                    items[i].style.marginTop = '-' + (maxHeight - heights[column]) + 'px';
                    // 更新高度数组
                    heights[column] += itemHeight;
                    // 当前元素为一行最后一项或整个页面最后一个元素触发，更新高度的最大值
                    if (column == columnCount - 1 || i == items.length - 1) {
                        let temp = getMaxCoulmn(columnCount, heights);
                        maxHeight = temp.maxHeight;
                        maxIndex = temp.maxIndex;
                    }
                }
            }
        }


        // 当页面加载时，进行排版
        window.onload = function() {
            waterFall();
        }

        // 当页面加载时，进行排版
        window.onresize = function() {
            waterFall();
        }
    </script>

</body>

</html>