<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hello, Alex Works!</title>
    <link rel="stylesheet" href="./css/bootstrap.css">
    <link rel="stylesheet" href="./css/work-app.css">
    <link rel="stylesheet" href="./sass/app.css">
</head>

<body>
    <!-- loader -->
    <div class="preloader">
        <div class="preloader status">
            <div status class="preloader status-text">You are {{loaded}} % done!</div>
            <div class="preloader status-loader">
                <div loader :style="loadStyle" class="preloader status-bar"></div>
            </div>
        </div>
    </div>
    <div id="top"></div>
    <div id="header"></div>
    <nav aria-label="breadcrumb" class="border-top border-danger border-5 mybreadcrumb-t" id="a">
        <ol class="breadcrumb ms-2 pb-1">
            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
            <li class="breadcrumb-item"><a href="allworks.html">Works Area</a></li>
            <li class="breadcrumb-item active" aria-current="page">MobileApp</li>
        </ol>
    </nav>
    <div class="container mytitle">
        <div class="row wrap">
            <div class="col-12 body">
                <div class="row mx-auto">
                    <h3 Class="border-start border-5 border-danger px-3">APP UI Desgin</h3>
                    <p>諳數位用戶的互動行為，積極探索使用者期望並結合商業目標，賦予產品更高度的使用價值。</p>
                </div>

                <div class="waterfall-container">
                    <img class="waterfall-item item-1" src="./images/app/6dgaming.jpg"></img>
                    <img class="waterfall-item item-2" src="./images/app/k8/all-app.jpg"></img>
                    <img class="waterfall-item item-3" src="./images/app/6t/6T_betindex-1.jpg"></img>
                    <a href="house/zhaimall.html" target="_blank"><img class="waterfall-item item-4" src="./images/app/indexV.4-1H5.png "></img>
                    </a>
                    <img class="waterfall-item item-5" src="./images/app/6t/6T_betindex-2.jpg"></img>
                    <img class="waterfall-item item-12" src="./images/app/iTRYapp.jpg"></img>
                    <img class="waterfall-item item-7" src="./images/app/yong-sheng-app.jpg"></img>
                    <img class="waterfall-item item-6" src="./images/app/ShinKong.jpg"></img>
                    <img class="waterfall-item item-17" src="./images/app/k8/k8-login.jpg"></img>
                    <img class="waterfall-item item-8" src="./images/app/ShinKongRWD.jpg"></img>
                    <img class="waterfall-item item-9" src="./images/app/k8/all-app-2.jpg"></img>
                    <img class="waterfall-item item-10" src="./images/app/6t/6T_betindex-ADdown.jpg"></img>
                    <img class="waterfall-item item-11" src="./images/app/k8/k8-bet.jpg"></img>
                    <img class="waterfall-item item-13" src="./images/app/6t/6T_index0819.jpg"></img>
                    <img class="waterfall-item item-14" src="./images/app/ShinKonglist.jpg"></img>
                    <img class="waterfall-item item-15" src="./images/app/ShinKongapp.jpg"></img>
                    <img class="waterfall-item item-16" src="./images/app/k8/k8-index.jpg"></img>
                    <img class="waterfall-item item-18" src="./images/app/ui-02.jpg"></img>
                    <img class="waterfall-item item-19" src="./images/app/ui-03.jpg"></img>
                    <img class="waterfall-item item-20" src="./images/app/ui-04.jpg"></img>
                    <img class="waterfall-item item-21" src="./images/app/ui-05.jpg"></img>
                    <img class="waterfall-item item-22" src="./images/app/ui-06.jpg"></img>
                    <img class="waterfall-item item-23" src="./images/app/ui-07.jpg"></img>
                    <img class="waterfall-item item-24" src="./images/app/ui-08.jpg"></img>
                    <img class="waterfall-item item-25" src="./images/app/ui-09.jpg"></img>
                    <img class="waterfall-item item-26" src="./images/app/ui-10.jpg"></img>
                    <img class="waterfall-item item-27" src="./images/app/ui-11.jpg"></img>
                    <img class="waterfall-item item-28" src="./images/app/ui-12.jpg"></img>
                    <img class="waterfall-item item-29" src="./images/app/ui-13.jpg"></img>
                    <img class="waterfall-item item-30" src="./images/app/ui-14.jpg"></img>
                    <img class="waterfall-item item-31" src="./images/app/ui-15.jpg"></img>
                    <img class="waterfall-item item-32" src="./images/app/ui-16.jpg"></img>
                    <img class="waterfall-item item-33" src="./images/app/ui-17.jpg"></img>
                    <img class="waterfall-item item-34" src="./images/app/ui-18.jpg"></img>
                    <img class="waterfall-item item-35" src="./images/app/ui-19.jpg"></img>
                    <img class="waterfall-item item-36" src="./images/app/ui-20.jpg"></img>
                    <img class="waterfall-item item-37" src="./images/app/ui-21.jpg"></img>
                    <img class="waterfall-item item-38" src="./images/app/ui-01.jpg"></img>
                    <a href="https://xd.adobe.com/view/7e1ceb7d-513d-422d-4536-92396b093cb6-082d/screen/4235e5af-c5ef-4cc5-858d-d549dd9da7f3/" target="_blank"><img class="waterfall-item item-39" src="./images/app/restaurant-app.jpg"></img>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <p class="btn_top"><a href="#top">top</a></p>
    <div id="footer"></div>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-fullscreen-sm-down">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Login 功能未開啟</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h3>活動尚未開始，敬請期待</h3>
                    <p>未串接 API、資料 JSON、API Method RESTful</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary disabled" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-danger disabled">Save changes</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js " integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM " crossorigin="anonymous "></script>
    <script src="./js/jquery3.7.js"></script>
    <script src="./js/all.js"></script>
    <!-- loader -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.28/vue.min.js"></script>
    <script>
        const vue = new Vue({
            el: '.preloader',
            data: {
                loaded: 0,
                loading: null,
                loadStyle: {
                    width: '0%'
                },
                statusElem: $('[status]'),
                loader: $('[loader]'),
                body: $('body')
            },
            ready() {
                this.preloader = $(this.$el);
                this.removeScrolling();
                this.startLoading();
            },
            watch: {
                loaded() {
                    this.loadStyle.width = `${this.loaded}%`;
                }
            },
            methods: {
                removeScrolling() {
                    this.body.css('overflow', 'hidden');
                },
                startLoading() {
                    this.loading = setInterval(this.load, 20);
                },
                load() {
                    this.loaded < 100 ? this.loaded++ : this.doneLoading();
                },
                doneLoading() {
                    clearInterval(this.loading);
                    this.updateStatus();
                },
                updateStatus() {
                    this.statusElem.text('Lets get crazay !');
                    this.loader.fadeOut();
                    this.animatePreloader();
                },
                animatePreloader() {
                    let app = this,
                        height = this.preloader.height(),
                        properties = {
                            'margin-top': `-${height}`
                        },
                        options = {
                            duration: 1000,
                            easing: 'swing',
                            complete() {
                                app.removePreloader()
                            }
                        };
                    this.preloader.delay(500).animate(properties, options)
                },
                removePreloader() {
                    this.preloader.remove();
                    this.body.removeAttr('style');
                    this.animateWebsite();
                },
                animateWebsite() {
                    console.log('lets get pretty');
                }
            }
        })
    </script>

    <script>
        $(function() {
            $("#header").load("./layouts/header.html");
            $("#footer").load("./layouts/footer.html");
        });
    </script>

    <script>
        // for 循环遍历heights数组，返回最高的高度和对应的列数
        function getMaxCoulmn(columnCount, heights) {
            let maxHeight = 0;
            let maxIndex = 0
            for (i = 0; i < columnCount; i++) {
                if (heights[i] > maxHeight) {
                    maxIndex = i;
                    maxHeight = heights[i];
                }
            }
            return {
                maxHeight: maxHeight,
                maxIndex: maxIndex
            };
        }

        // 根容器
        var body = document.querySelector('.body');
        // 瀑布流的承载容器，动态的根据显示列数更新其宽度
        // 通过设置左右margin为auto，可以使其在根容器中居中显示 
        var container = document.querySelector('.waterfall-container');
        // 所有的瀑布流对象
        var items = document.querySelectorAll('.waterfall-item');
        // 自定义间距，与css设置的margin大小一致
        var gap = 10;
        // 一个对象的宽度，包含对象自身宽度加上右边距
        var itemWidth = items[0].offsetWidth + gap;

        function waterFall() {
            // 获取可存在的最大列数
            let columnCount = parseInt(body.offsetWidth / itemWidth);
            // 高度数组，包含所有列的高度
            let heights = [];
            // 最大列高
            let maxHeight = 0;
            // 最大列在heights中的下表索引
            let maxIndex = 0;
            // 设置瀑布流容器的宽度，使其恰好包裹所有元素
            container.style.width = itemWidth * columnCount + 'px';
            // 遍历每一项元素
            for (let i = 0; i < items.length; i++) {
                // 第一层，将marginTop设为0即可
                if (i < columnCount) {
                    items[i].style.marginTop = 0;
                    // 获取当前元素高度
                    let itemHeight = items[i].offsetHeight + gap;
                    // 将高度赋值给高度数组的对应列
                    heights[i] = itemHeight;
                    // 如果是一行的最后一项元素，说明当前一层的元素已经全部布置完成
                    // 此时遍历高度数组，获取高度最高的一项，将其存入maxHeight和maxIndex中
                    if (i == columnCount - 1) {
                        let temp = getMaxCoulmn(columnCount, heights);
                        maxHeight = temp.maxHeight;
                        maxIndex = temp.maxIndex;
                    }
                    // 其他层
                } else {
                    // 判断当前元素处于第几列
                    let column = i % columnCount;
                    // 获取当前元素高度
                    let itemHeight = items[i].offsetHeight + gap;
                    // 设置元素的上边距
                    // 其偏移量的计算方法是：
                    // 所有列高度最大值 - 当前列的高度
                    items[i].style.marginTop = '-' + (maxHeight - heights[column]) + 'px';
                    // 更新高度数组
                    heights[column] += itemHeight;
                    // 当前元素为一行最后一项或整个页面最后一个元素触发，更新高度的最大值
                    if (column == columnCount - 1 || i == items.length - 1) {
                        let temp = getMaxCoulmn(columnCount, heights);
                        maxHeight = temp.maxHeight;
                        maxIndex = temp.maxIndex;
                    }
                }
            }
        }


        // 当页面加载时，进行排版
        window.onload = function() {
            waterFall();
        }

        // 当页面加载时，进行排版
        window.onresize = function() {
            waterFall();
        }
    </script>



</body>

</html>